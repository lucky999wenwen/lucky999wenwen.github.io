(function(t){function e(e){for(var i,r,l=e[0],c=e[1],o=e[2],u=0,h=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(h.length)h.shift()();return s.push.apply(s,o||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},r={app:0},a={app:0},s=[];function l(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-1535fc5c":"db0501fc","chunk-23a49633":"e4f8d6a1","chunk-406d916c":"0696aafa","chunk-94bbe340":"b7cd97bd","chunk-d60f54c8":"87e95484"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-1535fc5c":1,"chunk-23a49633":1,"chunk-406d916c":1,"chunk-94bbe340":1,"chunk-d60f54c8":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-1535fc5c":"d4e46b7b","chunk-23a49633":"8892a673","chunk-406d916c":"d9024eb2","chunk-94bbe340":"6e21b2ea","chunk-d60f54c8":"476dd7d9"}[t]+".css",a=c.p+i,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var o=s[l],u=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(u===i||u===a))return e()}var h=document.getElementsByTagName("style");for(l=0;l<h.length;l++){o=h[l],u=o.getAttribute("data-href");if(u===i||u===a)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete r[t],p.parentNode.removeChild(p),n(s)},p.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){r[t]=0})));var i=a[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise((function(e,n){i=a[t]=[e,n]}));e.push(i[2]=s);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=l(t);var h=new Error;o=function(e){u.onerror=u.onload=null,clearTimeout(p);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",h.name="ChunkLoadError",h.type=i,h.request=r,n[1](h)}a[t]=void 0}};var p=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var p=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("85ec"),r=n.n(i);r.a},4252:function(t,e,n){"use strict";var i=n("5121"),r=n.n(i);r.a},5121:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=(n("d3b7"),n("bc3a")),a=n.n(r),s={},l=a.a.create(s);l.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=l,window.axios=l,Object.defineProperties(t.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},i["a"].use(Plugin);Plugin;var c,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}}),n("keep-alive",[n("router-view",{attrs:{WhenMusiClickId:t.WhenMusiClickId,isnowPlay:t.isnowPlay,SongPlayTimeArr:t.SongPlayTimeArr,currentIndex:t.currentIndex,playlist:t.playlist,lyrictext:t.lyrictext},on:{translateWhenSongId:function(e){return t.translateWhenSongId(e)},isnowPlayMusic:function(e){return t.isnowPlayMusic(e)},smallPlays:function(e){return t.smallPlays(e)},PrevSongTure:t.PrevSongTure,NextSongTure:t.NextSongTure,translatePlaylist:function(e){return t.translatePlaylist(e)},translateWhenPlayTime:function(e){return t.translateWhenPlayTime(e)},tranlateplaymoder:function(e){return t.tranlateplaymoder(e)}}})],1),n("keep-alive",[n("FloatPalyNav",{attrs:{WhenMusiClickId:t.WhenMusiClickId,smallPlay:t.smallPlay,bigPlay:t.bigPlay,isnowPlay:t.isnowPlay,isPrevSong:t.isPrevSong,isNextSong:t.isNextSong,playlist:t.playlist,whenPlaytime:t.whenPlaytime,playmoder:t.playmoder},on:{isnowPlaydetector:function(e){return t.isnowPlaydetector(e)},smallPlays:function(e){return t.smallPlays(e)},BackPlayTime:function(e){return t.BackPlayTime(e)},backindex:t.backindex,transinger:t.transinger}})],1)],1)},u=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.WhenMusiClickId&&t.smallPlay?n("div",{staticClass:"palynav"},[t.WhenMusiClickId.picUrl?[n("b",{on:{click:t.translateSongId}},[n("span",[n("img",{attrs:{src:t.item.picUrl,alt:""}})]),n("span",[t._v(t._s(t.item.name))])])]:t._e(),t.item.al?[n("b",{on:{click:t.translateSongId}},[n("span",[n("img",{attrs:{src:t.item.al.picUrl,alt:""}})]),n("span",[t._v(t._s(t.item.name))])])]:t._e(),t.item.artists&&t.item.album?[n("b",{on:{click:t.translateSongId}},[n("span",[n("img",{attrs:{src:t.item.al.picUrl,alt:""}})]),n("span",[t._v(t._s(t.item.name))])])]:t._e(),n("span",{staticClass:"play"},[t.playBtncut?n("i",{staticClass:"fa fa-play-circle-o",on:{click:function(e){return e.stopPropagation(),t.playmusic(e)}}}):n("i",{staticClass:"fa fa-pause-circle-o",on:{click:function(e){return e.stopPropagation(),t.pausedmusic(e)}}})]),t._m(0)],2):t._e(),t.WhenMusiClickId?n("div",[n("audio",{ref:"audio",attrs:{id:"music",src:t.currentSongUrl}})]):t._e()])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"menu"},[n("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}})])}],d=(n("fb6a"),n("a434"),n("a9e3"),n("ac1f"),n("25f0"),n("1276"),n("498a"),n("159b"),n("ade3")),y=(new Audio,{name:"FloatPalyNav",props:["WhenMusiClickId","playlist","smallPlay","isnowPlay","isPrevSong","isNextSong","whenPlaytime","playmoder"],data:function(){return{playBtncut:!0,play:null,songid:null,playcurrent:null,item:null,playlists:null,url:null,lyric:[],lyricArr:[],lyrictext:null,howsplict:!1,x:null}},methods:{getlyric:function(t){var e=this;this.axios.get("http://music.kele8.cn/lyric?id="+t).then((function(t){var n=t.data.lrc.lyric.slice(0,11);if("[00:00.000]"==n)e.howsplict=!0,e.lyric=t.data.lrc.lyric,e.dealSinger();else{e.howsplict=!1;var i=t.data.lrc.lyric.split("\n");i.splice(0,1),e.lyric=i.toString(),e.dealSinger()}}))},dealSinger:function(){var t=this;this.howsplict?(this.lyric.split("\n").forEach((function(e,n){var i=e.slice(1,9);t.lyricArr[n]={time:60*i.slice(0,2)+Number(i.slice(3)),text:e.slice(10).trim()}})),this.lyricArr.pop(),this.lyricArr.shift()):(this.lyric.split(",").forEach((function(e,n){var i=e.slice(1,9);t.lyricArr[n]={time:60*i.slice(0,2)+Number(i.slice(3)),text:e.slice(10).trim()}})),this.lyricArr.pop(),this.lyricArr.shift())},Singerpanduan:function(){if(this.lyricArr.length>1)for(var t=0;t<this.lyricArr.length;t++)if(this.lyricArr[t].time>=this.$refs.audio.currentTime){if(this.lyricArr[t].time>this.$refs.audio.currentTime+60){this.lyricArr.splice(t,1);break}if(this.lyricArr[t-1]){"]"==this.lyricArr[t-1].text.slice(0,1)?(this.lyrictext=this.lyricArr[t-1].text.slice(1),this.$emit("transinger",this.lyrictext)):(this.lyrictext=this.lyricArr[t-1].text,this.$emit("transinger",this.lyrictext));break}}},testMusicIsplay:function(){},getsongDetail:function(t){var e=this;fetch("http://music.kele8.cn/song/detail?ids="+t).then((function(t){return t.json()})).then((function(t){e.playlists.push(t.songs[0])}))},OntimeUpdate:function(){var t=this;this.$refs.audio.ontimeupdate=function(){t.Singerpanduan();var e=this.currentTime,n=this.duration;t.$emit("BackPlayTime",[e,n])}},randomNumber:function(t,e){return Math.round(Math.random()*(e-t)+t)},onendedModer:function(){var t=this;this.$refs.audio.onended=function(){if(t.playmoder[0])t.playlist[1].tracks?(t.playcurrent=t.playcurrent>=t.playlist[1].tracks.length-1?0:++t.playcurrent,t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id):(t.playcurrent=t.playcurrent>=t.playlist[1].length-1?0:++t.playcurrent,t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id),t.$refs.audio.onloadedmetadata=function(){},t.$refs.audio.oncanplay=function(){t.playmusic()};else if(t.playmoder[1])t.playlist[1].tracks?(t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id):(t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id),t.playmusic();else{if(t.playlist[1].tracks){var e=t.playlist[1].tracks.length-1;t.playcurrent=t.playcurrent>=t.playlist[1].tracks.length-1?0:t.randomNumber(0,e),t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id}else{var n=t.playlist[1].length-1;t.playcurrent=t.playcurrent>=t.playlist[1].length-1?0:t.randomNumber(0,n),t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id}t.$refs.audio.onloadedmetadata=function(){},t.$refs.audio.oncanplay=function(){t.playmusic()}}}},playpusedmusic:function(){window.console.log(this.$refs.audio.paused);var t=this;this.$refs.audio.paused?(this.$refs.audio.onloadedmetadata=function(){},this.$refs.audio.oncanplay=function(){this.play(),t.$emit("isnowPlaydetector",!0),t.playBtncut=!1}):(this.$refs.audio.pause(),this.$emit("isnowPlaydetector",!1),this.playBtncut=!0),this.OntimeUpdate(),this.getlyric(this.songid)},playmusic:function(){this.testMusicIsplay(),this.$refs.audio.play(),this.$emit("isnowPlaydetector",!0),this.playBtncut=!1,this.OntimeUpdate(),this.onendedModer(),this.getlyric(this.songid)},pausedmusic:function(){this.$refs.audio.pause(),this.$emit("isnowPlaydetector",!1),this.playBtncut=!0,this.OntimeUpdate(),this.onendedModer(),this.getlyric(this.songid)},translateSongId:function(){this.$router.push({path:"playmusicsollbigshow"}),this.$emit("smallPlays",!1)}},watch:(c={playlist:function(){var t=this;this.playlist.forEach((function(e){t.getsongDetail(e.id)}))},whenPlaytime:function(){this.$refs.audio.currentTime=this.whenPlaytime/100*this.$refs.audio.duration},smallPlay:function(){},isnowPlay:function(){this.WhenMusiClickId&&this.isnowPlay?(this.id=this.WhenMusiClickId.id,this.playmusic()):this.pausedmusic()},WhenMusiClickId:function(t){var e=this;this.songid=this.WhenMusiClickId.id,this.item=this.WhenMusiClickId;var n=this;null!=this.WhenMusiClickId&&this.isnowPlay?setTimeout((function(){e.$refs.audio.onloadedmetadata=function(){},console.log(e.$refs.audio.paused),e.$refs.audio.oncanplay=function(){n.playmusic()}}),100):this.pausedmusic()}},Object(d["a"])(c,"playlist",(function(){this.playcurrent=this.playlist[0]})),Object(d["a"])(c,"isPrevSong",(function(){this.isPrevSong&&(this.playlist[1].tracks?(this.playcurrent=this.playcurrent<=0?this.playlist[1].tracks.length-1:--this.playcurrent,this.songid=this.playlist[1].tracks[this.playcurrent].id,this.item=this.playlist[1].tracks[this.playcurrent],this.$emit("backindex",this.playcurrent)):(this.playcurrent=this.playcurrent<=0?this.playlist[1].length-1:--this.playcurrent,this.songid=this.playlist[1][this.playcurrent].id,this.item=this.playlist[1][this.playcurrent],this.$emit("backindex",this.playcurrent)))})),Object(d["a"])(c,"isNextSong",(function(){this.isNextSong&&(this.playlist[1].tracks?(this.playcurrent=this.playcurrent>=this.playlist[1].tracks.length-1?0:++this.playcurrent,this.songid=this.playlist[1].tracks[this.playcurrent].id,this.$emit("backindex",this.playcurrent),this.item=this.playlist[1].tracks[this.playcurrent]):(this.playcurrent=this.playcurrent>=this.playlist[1].length-1?0:++this.playcurrent,this.songid=this.playlist[1][this.playcurrent].id,this.$emit("backindex",this.playcurrent),this.item=this.playlist[1][this.playcurrent]))})),c),computed:{currentSongUrl:function(){return"https://music.163.com/song/media/outer/url?id="+this.songid+".mp3"}},created:function(){}}),f=y,m=(n("4252"),n("2877")),g=Object(m["a"])(f,h,p,!1,null,null,null),k=g.exports,P={components:{FloatPalyNav:k},data:function(){return{WhenMusiClickId:null,playlist:null,smallPlay:!0,bigPlay:!1,isnowPlay:!1,SongPlayTimeArr:[],isPrevSong:!1,isNextSong:!1,currentIndex:null,whenPlaytime:null,playmoder:null,lyrictext:null}},methods:{transinger:function(t){this.lyrictext=t},BackPlayTime:function(t){this.SongPlayTimeArr=t},translateWhenSongId:function(t){this.WhenMusiClickId=t,this.isnowPlay=!0},isnowPlaydetector:function(t){this.isnowPlay=t},isnowPlayMusic:function(t){this.isnowPlay=t},smallPlays:function(t){this.smallPlay=t},PrevSongTure:function(t){this.isPrevSong=t},NextSongTure:function(t){this.isNextSong=t},translatePlaylist:function(t){this.playlist=t,this.currentIndex=t[0]},backindex:function(t){this.currentIndex=t},translateWhenPlayTime:function(t){this.whenPlaytime=t},tranlateplaymoder:function(t){this.playmoder=t}}},v=P,b=(n("034f"),Object(m["a"])(v,o,u,!1,null,null,null)),w=b.exports,x=n("8c4f"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h2",[t._v("唯我音乐")]),n("ul",{staticClass:"nav"},[n("li",[n("router-link",{attrs:{to:"/recommend"}},[t._v("推荐音乐")])],1),n("li",[n("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),n("li",[n("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)]),n("keep-alive",[n("router-view",{on:{translateWhenSongId:function(e){return t.translateWhenSongId(e)},translatePlaylist:function(e){return t.translatePlaylist(e)}}})],1)],1)},$=[],I={name:"home",data:function(){return{}},methods:{translateWhenSongId:function(t){this.$emit("translateWhenSongId",t)},translatePlaylist:function(t){this.$emit("translatePlaylist",t)}}},_=I,C=(n("de16"),Object(m["a"])(_,S,$,!1,null,null,null)),M=C.exports;i["a"].use(x["a"]);var T=[{path:"/",name:"home",component:M,redirect:"/recommend",children:[{path:"/recommend",name:"recommend",component:function(){return n.e("chunk-406d916c").then(n.bind(null,"cc7e"))}},{path:"/hot",name:"hot",component:function(){return n.e("chunk-1535fc5c").then(n.bind(null,"8f8d"))}},{path:"/search",name:"search",component:function(){return n.e("chunk-23a49633").then(n.bind(null,"0e29"))}}]},{path:"/playList",name:"playList",component:function(){return n.e("chunk-94bbe340").then(n.bind(null,"cdcd"))}},{path:"/playmusicsollbigshow",name:"playmusicsollbigshow",component:function(){return n.e("chunk-d60f54c8").then(n.bind(null,"5947"))}}],A=new x["a"]({routes:T}),W=A;i["a"].config.productionTip=!1,new i["a"]({router:W,render:function(t){return t(w)}}).$mount("#app")},"85ec":function(t,e,n){},"8d91":function(t,e,n){},de16:function(t,e,n){"use strict";var i=n("8d91"),r=n.n(i);r.a}});
//# sourceMappingURL=app.aabe6179.js.map