(function(t){function i(i){for(var n,r,l=i[0],c=i[1],o=i[2],u=0,h=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(i);while(h.length)h.shift()();return s.push.apply(s,o||[]),e()}function e(){for(var t,i=0;i<s.length;i++){for(var e=s[i],n=!0,r=1;r<e.length;r++){var l=e[r];0!==a[l]&&(n=!1)}n&&(s.splice(i--,1),t=c(c.s=e[0]))}return t}var n={},r={app:0},a={app:0},s=[];function l(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-17c38154":"07c77530","chunk-1a18e770":"da651369","chunk-406d916c":"6d48b39c","chunk-538e2fc0":"65d27644","chunk-94bbe340":"ab2ac131"}[t]+".js"}function c(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var i=[],e={"chunk-17c38154":1,"chunk-1a18e770":1,"chunk-406d916c":1,"chunk-538e2fc0":1,"chunk-94bbe340":1};r[t]?i.push(r[t]):0!==r[t]&&e[t]&&i.push(r[t]=new Promise((function(i,e){for(var n="css/"+({}[t]||t)+"."+{"chunk-17c38154":"ba6b7307","chunk-1a18e770":"7af00b32","chunk-406d916c":"00ccff03","chunk-538e2fc0":"2ad206d1","chunk-94bbe340":"3963ea23"}[t]+".css",a=c.p+n,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var o=s[l],u=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(u===n||u===a))return i()}var h=document.getElementsByTagName("style");for(l=0;l<h.length;l++){o=h[l],u=o.getAttribute("data-href");if(u===n||u===a)return i()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=i,p.onerror=function(i){var n=i&&i.target&&i.target.src||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[t],p.parentNode.removeChild(p),e(s)},p.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){r[t]=0})));var n=a[t];if(0!==n)if(n)i.push(n[2]);else{var s=new Promise((function(i,e){n=a[t]=[i,e]}));i.push(n[2]=s);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=l(t);var h=new Error;o=function(i){u.onerror=u.onload=null,clearTimeout(p);var e=a[t];if(0!==e){if(e){var n=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;h.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",h.name="ChunkLoadError",h.type=n,h.request=r,e[1](h)}a[t]=void 0}};var p=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(i)},c.m=t,c.c=n,c.d=function(t,i,e){c.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,i){if(1&i&&(t=c(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)c.d(e,n,function(i){return t[i]}.bind(null,n));return e},c.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(i,"a",i),i},c.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},c.p="",c.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=i,o=o.slice();for(var h=0;h<o.length;h++)i(o[h]);var p=u;s.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},2395:function(t,i,e){},4252:function(t,i,e){"use strict";var n=e("5121"),r=e.n(n);r.a},5121:function(t,i,e){},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=(e("d3b7"),e("bc3a")),a=e.n(r),s={},l=a.a.create(s);l.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,i){t.axios=l,window.axios=l,Object.defineProperties(t.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},n["a"].use(Plugin);Plugin;var c,o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"nav"}}),e("keep-alive",[e("transition",{attrs:{name:t.transitionName}},[e("router-view",{attrs:{WhenMusiClickId:t.WhenMusiClickId,isnowPlay:t.isnowPlay,SongPlayTimeArr:t.SongPlayTimeArr,currentIndex:t.currentIndex,playlist:t.playlist,lyrictext:t.lyrictext},on:{translateWhenSongId:function(i){return t.translateWhenSongId(i)},isnowPlayMusic:function(i){return t.isnowPlayMusic(i)},smallPlays:function(i){return t.smallPlays(i)},PrevSongTure:t.PrevSongTure,NextSongTure:t.NextSongTure,translatePlaylist:function(i){return t.translatePlaylist(i)},translateWhenPlayTime:function(i){return t.translateWhenPlayTime(i)},tranlateplaymoder:function(i){return t.tranlateplaymoder(i)}}})],1)],1),e("keep-alive",[e("FloatPalyNav",{attrs:{WhenMusiClickId:t.WhenMusiClickId,smallPlay:t.smallPlay,bigPlay:t.bigPlay,isnowPlay:t.isnowPlay,isPrevSong:t.isPrevSong,isNextSong:t.isNextSong,playlist:t.playlist,whenPlaytime:t.whenPlaytime,playmoder:t.playmoder},on:{isnowPlaydetector:function(i){return t.isnowPlaydetector(i)},smallPlays:function(i){return t.smallPlays(i)},BackPlayTime:function(i){return t.BackPlayTime(i)},backindex:t.backindex,transinger:t.transinger,senSongObj:function(i){return t.senSongObj(i)}}})],1)],1)},u=[],h=(e("ac1f"),e("1276"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.WhenMusiClickId&&t.smallPlay?e("div",{staticClass:"palynav"},[t.WhenMusiClickId.picUrl?[e("b",{on:{click:t.translateSongId}},[e("span",[e("img",{class:{active:t.isactive},attrs:{src:t.item.picUrl,alt:""}})]),e("span",[t._v(t._s(t.item.name))])])]:t._e(),t.item.al?[e("b",{on:{click:t.translateSongId}},[e("span",[e("img",{class:{active:t.isactive},attrs:{src:t.item.al.picUrl,alt:""}})]),e("span",[t._v(t._s(t.item.name))])])]:t._e(),t.item.artists&&t.item.album?[e("b",{on:{click:t.translateSongId}},[e("span",[e("img",{class:{active:t.isactive},attrs:{src:t.item.al.picUrl,alt:""}})]),e("span",[t._v(t._s(t.item.name))])])]:t._e(),e("span",{staticClass:"play"},[t.playBtncut?e("i",{staticClass:"fa fa-play-circle-o",attrs:{"aria-hidden":"true"},on:{click:function(i){return i.stopPropagation(),t.playmusic(i)}}}):e("i",{staticClass:"fa fa-pause-circle-o",attrs:{"aria-hidden":"true"},on:{click:function(i){return i.stopPropagation(),t.pausedmusic(i)}}})]),t._m(0)],2):t._e(),t.WhenMusiClickId?e("div",[e("audio",{ref:"audio",attrs:{id:"music",src:t.currentSongUrl,autoplay:""}})]):t._e()])}),p=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("span",{staticClass:"menu"},[e("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}})])}],d=(e("fb6a"),e("a434"),e("a9e3"),e("25f0"),e("498a"),e("159b"),e("ade3")),y=(new Audio,{name:"FloatPalyNav",props:["WhenMusiClickId","playlist","smallPlay","isnowPlay","isPrevSong","isNextSong","whenPlaytime","playmoder"],data:function(){return{playBtncut:!0,songid:null,playcurrent:null,item:null,playlists:null,url:null,lyric:[],lyricArr:[],lyrictext:null,howsplict:!1,x:null,isactive:!0}},methods:{getlyric:function(t){var i=this;this.axios.get("https://music.kele8.cn/lyric?id="+t).then((function(t){var e=t.data.lrc.lyric.slice(0,11);if("[00:00.000]"==e)i.howsplict=!0,i.lyric=t.data.lrc.lyric,i.dealSinger();else{i.howsplict=!1;var n=t.data.lrc.lyric.split("\n");n.splice(0,1),i.lyric=n.toString(),i.dealSinger()}})).catch((function(){this.getlyric(t)}))},dealSinger:function(){var t=this;this.howsplict?(this.lyric.split("\n").forEach((function(i,e){var n=i.slice(1,9);t.lyricArr[e]={time:60*n.slice(0,2)+Number(n.slice(3)),text:i.slice(10).trim()}})),this.lyricArr.pop(),this.lyricArr.shift()):(this.lyric.split(",").forEach((function(i,e){var n=i.slice(1,9);t.lyricArr[e]={time:60*n.slice(0,2)+Number(n.slice(3)),text:i.slice(10).trim()}})),this.lyricArr.pop(),this.lyricArr.shift())},Singerpanduan:function(){if(this.lyricArr.length>1)for(var t=0;t<this.lyricArr.length;t++)if(this.lyricArr[t].time>=this.$refs.audio.currentTime){if(this.lyricArr[t].time>this.$refs.audio.currentTime+60){this.lyricArr.splice(t,1);break}if(this.lyricArr[t-1]){"]"==this.lyricArr[t-1].text.slice(0,1)?(this.lyrictext=this.lyricArr[t-1].text.slice(1),this.$emit("transinger",this.lyrictext)):(this.lyrictext=this.lyricArr[t-1].text,this.$emit("transinger",this.lyrictext));break}}},getsongDetail:function(t){var i=this;fetch("http://music.kele8.cn/song/detail?ids="+t).then((function(t){return t.json()})).then((function(t){i.playlists.push(t.songs[0])}))},OntimeUpdate:function(){var t=this;this.$refs.audio.ontimeupdate=function(){t.Singerpanduan();var i=this.currentTime,e=this.duration;t.$emit("BackPlayTime",[i,e])}},randomNumber:function(t,i){return Math.round(Math.random()*(i-t)+t)},onendedModer:function(){var t=this;this.$refs.audio.onended=function(){if(t.playmoder[0])t.playlist[1].tracks?(t.playcurrent=t.playcurrent>=t.playlist[1].tracks.length-1?0:++t.playcurrent,t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id):(t.playcurrent=t.playcurrent>=t.playlist[1].length-1?0:++t.playcurrent,t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id),t.$refs.audio.onloadedmetadata=function(){},t.$refs.audio.oncanplay=function(){t.playmusic()};else if(t.playmoder[1])t.playlist[1].tracks?(t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id):(t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id),t.playmusic();else{if(t.playlist[1].tracks){var i=t.playlist[1].tracks.length-1;t.playcurrent=t.playcurrent>=t.playlist[1].tracks.length-1?0:t.randomNumber(0,i),t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id}else{var e=t.playlist[1].length-1;t.playcurrent=t.playcurrent>=t.playlist[1].length-1?0:t.randomNumber(0,e),t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id}t.$refs.audio.onloadedmetadata=function(){},t.$refs.audio.oncanplay=function(){t.playmusic()}}}},playpusedmusic:function(){var t=this;this.$refs.audio.paused?(this.isactive=!1,this.$refs.audio.onloadedmetadata=function(){},this.$refs.audio.oncanplay=function(){this.$refs.audio.play(),t.$emit("isnowPlaydetector",!0),t.playBtncut=!1}):(this.isactive=!0,this.$refs.audio.pause(),this.$emit("isnowPlaydetector",!1),this.playBtncut=!0),this.OntimeUpdate(),this.getlyric(this.songid)},playmusic:function(){this.isactive=!1,this.$refs.audio.play(),this.$emit("isnowPlaydetector",!0),this.playBtncut=!1,this.OntimeUpdate(),this.onendedModer(),this.getlyric(this.songid)},pausedmusic:function(){this.isactive=!0,this.$refs.audio.pause(),this.$emit("isnowPlaydetector",!1),this.playBtncut=!0,this.OntimeUpdate(),this.onendedModer(),this.getlyric(this.songid)},translateSongId:function(){this.$router.push({path:"playmusicsollbigshow"}),this.$emit("smallPlays",!1)}},watch:(c={playcurrent:function(){this.playcurrent>=0&&this.$emit("senSongObj",this.playlist[1][this.playcurrent])},playlist:function(){var t=this;this.playlist.forEach((function(i){t.getsongDetail(i.id)}))},whenPlaytime:function(){this.$refs.audio.currentTime=this.whenPlaytime/100*this.$refs.audio.duration},isnowPlay:function(){this.WhenMusiClickId&&this.isnowPlay?(this.id=this.WhenMusiClickId.id,this.playmusic()):this.pausedmusic()},WhenMusiClickId:function(t){var i=this;this.songid=this.WhenMusiClickId.id,this.item=this.WhenMusiClickId;var e=this;this.isnowPlay&&(null!=this.WhenMusiClickId&&this.isnowPlay?setTimeout((function(){i.$refs.audio.onloadedmetadata=function(){},i.$refs.audio.oncanplay=function(){e.playmusic()}}),100):this.pausedmusic())}},Object(d["a"])(c,"playlist",(function(){this.playcurrent=this.playlist[0]})),Object(d["a"])(c,"isPrevSong",(function(){this.isPrevSong&&(this.playlist[1].tracks?(this.playcurrent=this.playcurrent<=0?this.playlist[1].tracks.length-1:--this.playcurrent,this.songid=this.playlist[1].tracks[this.playcurrent].id,this.item=this.playlist[1].tracks[this.playcurrent],this.$emit("backindex",this.playcurrent)):(this.playcurrent=this.playcurrent<=0?this.playlist[1].length-1:--this.playcurrent,this.songid=this.playlist[1][this.playcurrent].id,this.item=this.playlist[1][this.playcurrent],this.$emit("backindex",this.playcurrent)))})),Object(d["a"])(c,"isNextSong",(function(){this.isNextSong&&(this.playlist[1].tracks?(this.playcurrent=this.playcurrent>=this.playlist[1].tracks.length-1?0:++this.playcurrent,this.songid=this.playlist[1].tracks[this.playcurrent].id,this.$emit("backindex",this.playcurrent),this.item=this.playlist[1].tracks[this.playcurrent]):(this.playcurrent=this.playcurrent>=this.playlist[1].length-1?0:++this.playcurrent,this.songid=this.playlist[1][this.playcurrent].id,this.$emit("backindex",this.playcurrent),this.item=this.playlist[1][this.playcurrent]))})),c),computed:{currentSongUrl:function(){return"https://music.163.com/song/media/outer/url?id="+this.songid+".mp3"}},created:function(){}}),m=y,f=(e("4252"),e("2877")),g=Object(f["a"])(m,h,p,!1,null,null,null),v=g.exports,k={components:{FloatPalyNav:v},data:function(){return{WhenMusiClickId:null,playlist:null,smallPlay:!0,bigPlay:!1,isnowPlay:!1,SongPlayTimeArr:[],isPrevSong:!1,isNextSong:!1,currentIndex:null,whenPlaytime:null,playmoder:null,lyrictext:null,transitionName:""}},watch:{$route:function(t,i){var e=t.path.split("/").length,n=i.path.split("/").length;this.transitionName=e<n?"slide-right":"slide-left"}},methods:{transinger:function(t){this.lyrictext=t},BackPlayTime:function(t){this.SongPlayTimeArr=t},translateWhenSongId:function(t){this.WhenMusiClickId=t,this.isnowPlay=!0},isnowPlaydetector:function(t){this.isnowPlay=t},isnowPlayMusic:function(t){this.isnowPlay=t},smallPlays:function(t){this.smallPlay=t},PrevSongTure:function(t){this.isPrevSong=t},NextSongTure:function(t){this.isNextSong=t},translatePlaylist:function(t){this.playlist=t,this.currentIndex=t[0]},backindex:function(t){this.currentIndex=t},translateWhenPlayTime:function(t){this.whenPlaytime=t},tranlateplaymoder:function(t){this.playmoder=t},senSongObj:function(t){this.WhenMusiClickId=t}}},P=k,b=(e("7c55"),Object(f["a"])(P,o,u,!1,null,null,null)),w=b.exports,x=e("8c4f"),S=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"home"},[e("h2",[t._v("唯我音乐")]),e("keep-alive",[e("ul",{staticClass:"nav"},[e("li",[e("router-link",{attrs:{to:"/recommend"}},[t._v("推荐音乐")])],1),e("li",[e("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),e("li",[e("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])]),e("transition",{attrs:{name:t.transitionName}},[e("keep-alive",[e("router-view",{attrs:{currentIndex:t.currentIndex},on:{translateWhenSongId:function(i){return t.translateWhenSongId(i)},translatePlaylist:function(i){return t.translatePlaylist(i)}}})],1)],1)],1)},$=[],I={name:"home",props:["currentIndex"],data:function(){return{transitionName:""}},watch:{$route:function(t,i){var e=t.path.split("/").length,n=i.path.split("/").length;this.transitionName=e<n?"slide-right":"slide-left"}},methods:{translateWhenSongId:function(t){this.$emit("translateWhenSongId",t)},translatePlaylist:function(t){this.$emit("translatePlaylist",t)}}},_=I,C=(e("de16"),Object(f["a"])(_,S,$,!1,null,null,null)),T=C.exports;n["a"].use(x["a"]);var M=[{path:"/",name:"home",component:T,redirect:"/recommend",children:[{path:"/recommend",name:"recommend",component:function(){return e.e("chunk-406d916c").then(e.bind(null,"cc7e"))}},{path:"/hot",name:"hot",component:function(){return e.e("chunk-17c38154").then(e.bind(null,"8f8d"))}},{path:"/search",name:"search",component:function(){return e.e("chunk-538e2fc0").then(e.bind(null,"0e29"))}}]},{path:"/playList",name:"playList",component:function(){return e.e("chunk-94bbe340").then(e.bind(null,"cdcd"))}},{path:"/playmusicsollbigshow",name:"playmusicsollbigshow",component:function(){return e.e("chunk-1a18e770").then(e.bind(null,"5947"))}}],N=new x["a"]({routes:M}),A=N;n["a"].config.productionTip=!1,new n["a"]({router:A,render:function(t){return t(w)}}).$mount("#app")},"7c55":function(t,i,e){"use strict";var n=e("2395"),r=e.n(n);r.a},"8d91":function(t,i,e){},de16:function(t,i,e){"use strict";var n=e("8d91"),r=e.n(n);r.a}});
//# sourceMappingURL=app.82f702fa.js.map