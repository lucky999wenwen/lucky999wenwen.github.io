(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a16c063"],{2532:function(t,e,s){"use strict";var i=s("23e7"),n=s("5a34"),o=s("1d80"),a=s("ab13");i({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("form",{attrs:{action:"/"}},[s("van-search",{attrs:{placeholder:"请输入要搜索的内容","show-action":"",background:"rgb(27, 27, 27)"},on:{input:t.onInput,cancel:t.OnCancel,search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.isShowReconmend?s("div",{staticClass:"searchnav"},[s("div",{staticClass:"recommendwords"},[s("h4",[t._v("热门搜索")]),t._l(t.recommendWords,(function(e,i){return s("van-tag",{key:i,attrs:{"text-color":"white",color:"#242422",size:"medium",type:"danger"},on:{click:function(s){return t.goSearchContent(e.kw)}}},[s("span",[t._v(t._s(e.kw))])])}))],2),s("div",{staticClass:"searchhistory"},[s("div",{staticClass:"searchtite"},[s("span",[t._v("搜索历史")]),s("span",{on:{click:t.showDelate}},[t._v("清除"),s("van-icon",{attrs:{name:"delete"}})],1)]),t._l(t.searchhistory,(function(e,i){return s("van-tag",{key:i,staticStyle:{"border-radius":"3px"},attrs:{"text-color":"white",color:"#242422",size:"medium"},on:{click:function(s){return t.goSearchContent(e)}}},[s("span",[t._v(t._s(e))])])}))],2),s("van-overlay",{attrs:{show:t.showdelate},on:{click:function(e){t.showdelate=!1}}},[s("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[s("h3",[t._v("清空搜索记录?")]),s("div",{staticClass:"ok"},[s("span",{on:{click:function(e){t.showdelate=!1}}},[t._v("取消")]),s("span",{on:{click:t.OkDElateSearchHistory}},[t._v("确认")])])])])],1):t._e(),s("SearchItem",{attrs:{submitwords:t.submitwords,isgetdata:t.isgetdata,firstreponse:t.firstreponse,isShowReconmend:t.isShowReconmend,recommendwordisalter:t.recommendwordisalter},on:{subselactnavtext:function(e){return t.subselactnavtext(e)}}})],1)},n=[],o=(s("caad"),s("fb6a"),s("2532"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.daysitemslist[0]&&!t.isShowReconmend?s("div",{staticClass:"slideshow"},[s("div",{staticClass:"slectnav"},[s("van-dropdown-menu",[s("van-dropdown-item",{attrs:{options:t.option1},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),s("van-dropdown-item",{attrs:{options:t.option2},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),s("van-dropdown-item",{attrs:{options:t.option3},on:{change:t.onchangesearch},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}})],1)],1),s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.error=e},load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.daysitemslist[0]?[s("ul",{staticClass:"list",attrs:{id:"list"}},t._l(t.daysitemslist,(function(e,i){return s("van-cell",{key:i},t._l(e,(function(e,i){return s("li",{key:i},[s("div",{key:i,staticClass:"content",on:{click:function(s){return t.gocontenttody(e)}}},[s("img",{attrs:{src:e.image,alt:""}}),s("div",{staticClass:"cont"},[e.cates[0]?s("h4",[t._v(" "+t._s(e.cates[0].catename)+"/"+t._s(t.getmin(e))+" ")]):t._e(),s("h3",[t._v(t._s(e.title))])])])])})),0)})),1)]:t._e()],2),void 0],2):t._e()}),a=[],r=(s("4de4"),s("4160"),s("159b"),{name:"SearchItem",props:["isgetdata","submitwords","firstreponse","isShowReconmend"],data:function(){return{list:[],loading:!1,lists:[],error:!1,iserror:!1,finished:!1,getison:!0,daysitemslist:[],ispush:!0,isdiffent:!1,isurl:!1,value1:0,value2:0,value3:0,option1:[],option2:[],option3:[{text:"全部频道",value:0}],scrollTop:0}},watch:{firstreponse:function(){var t=this;this.firstreponse&&(this.daysitemslist=[],this.lists=[],this.lists.push(this.firstreponse.result.next_page_url_full),this.daysitemslist.push(this.firstreponse.result.list),this.option1=[],this.option2=[],this.option3=[{text:"全部频道",value:0}],this.firstreponse.filter.type.forEach((function(e,s){t.option1.push({text:e.key,value:s,data:e.value})})),this.firstreponse.order.forEach((function(e,s){t.option2.push({text:e.key,value:s,data:e.value})})),this.firstreponse.filter.cate.forEach((function(e,s){t.option3.push({text:e.catename,value:s+1,cateid:e.cateid})})))},submitwords:function(){this.submitwords&&this.getfindheaderdata(this.submitwords)}},computed:{},methods:{onScrollBottom:function(){var t=this;this.$nextTick((function(){var e=t.$el.querySelector(".list");e&&(document.documentElement.scrollTop=e.scrollHeight),e.scrollHeight&&(t.scrollTop=e.scrollHeight-500)}))},onchangesearch:function(t){if(t>0){var e=this.option3[t].text;this.$emit("subselactnavtext",e)}},gocontenttody:function(t){this.$store.commit("submitIsactive",!0),this.$store.commit("submitLikeItem",t),this.$router.push({path:"finditemcontent",query:{id:t.postid}})},getfindheaderdata:function(t){var e=this;this.isgetdata&&this.axios.get("http://api.kele8.cn/agent/"+t).then((function(t){e.ispush?(e.lists.push(t.data.data.result.next_page_url_full),e.daysitemslist.push(t.data.data.result.list),e.finished=!0,e.ispush=!1):(e.daysitemslist.forEach((function(s){s!==t.data.data.list?e.isdiffent=!1:e.isdiffent=!0})),e.lists.forEach((function(s){s!==t.data.data.result.next_page_url_full?e.isurl=!1:e.isurl=!0})),e.isdiffent||!t.data.data||e.isurl||(e.lists.push(t.data.data.result.next_page_url_full),e.daysitemslist.push(t.data.data.result.list),e.finished=!0))})).catch((function(){e.error=!0,e.iserror=!0}))},onLoad:function(){var t=this;this.onScrollBottom(),this.iserror&&this.getfindheaderdata(this.lists[this.lists.length-1]),this.getfindheaderdata(this.lists[this.lists.length-1]),setTimeout((function(){t.loading=!1,t.finished=!1}),500)},getmin:function(t){var e=t.duration,s=Math.floor(e/60),i=Math.floor(e%60);s<10&&(s="0"+s),i<10&&(i="0"+i);var n=s+"'"+i+'"';return n},getbodyheight:function(){var t=document.querySelector(t);window.console.log(t)}},beforeRouteEnter:function(t,e,s){s((function(t){var e=t.$el;window.console.log(e,t._data.scrollTop),t._data.scrollTop&&(e.scrollTop=t._data.scrollTop)}))}}),c=r,l=(s("e9d1"),s("2877")),u=Object(l["a"])(c,o,a,!1,null,null,null),d=u.exports,h={name:"Search",components:{SearchItem:d},data:function(){return{showdelate:!1,value:null,recommendWords:null,searchhistory:null,isgetdata:!1,submitwords:null,firstreponse:null,firstrequestdata:!0,isShowReconmend:!0,recommendwordisalter:!0}},watch:{firstreponse:function(){this.firstreponse&&(this.isShowReconmend=!1)},value:function(){this.value||(this.isShowReconmend=!0,this.firstreponse=null)}},methods:{onInput:function(){},OnCancel:function(){this.$router.go(-1)},onSearch:function(t){this.submitwords=t,this.getSearchitem(t);var e=[];e.unshift(t);var s=JSON.parse(window.localStorage.getItem("searchhistory"));this.searchhistory=s,s?(window.console.log(s.includes(t)),s.includes(t)||(s.unshift(t),window.localStorage.setItem("searchhistory",JSON.stringify(s)))):window.localStorage.setItem("searchhistory",JSON.stringify(e))},subselactnavtext:function(t){this.getSearchitem(t),this.value=t},getSearchitem:function(t){var e=this;this.firstrequestdata&&this.axios.get("https://api.kele8.cn/agent/https://app.vmovier.com/apiv3/search?kw="+t).then((function(t){e.firstreponse=t.data.data}))},goSearchContent:function(t){this.value=t,this.submitwords=t,this.getSearchitem(t)},showDelate:function(){this.showdelate=!0},OkDElateSearchHistory:function(){this.showdelate=!1;var t=JSON.parse(window.localStorage.getItem("searchhistory"));t=[],window.console.log(t),window.localStorage.setItem("searchhistory",JSON.stringify(t))},getSearchHistory:function(){var t=JSON.parse(window.localStorage.getItem("searchhistory"));t&&(window.console.log(t),this.searchhistory=t.slice(0,10))},getDayCover:function(){var t=this;this.axios.get(" https://api.kele8.cn/agent/https://app.vmovier.com/apiv3/search?kw=").then((function(e){t.recommendWords=e.data.data.recommend_keywords}))}},created:function(){this.getDayCover(),this.getSearchHistory(),this.isgetdata=!0}},f=h,p=(s("9ed0"),Object(l["a"])(f,i,n,!1,null,null,null));e["default"]=p.exports},"43d8":function(t,e,s){},"44e7":function(t,e,s){var i=s("861d"),n=s("c6b6"),o=s("b622"),a=o("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},"4de4":function(t,e,s){"use strict";var i=s("23e7"),n=s("b727").filter,o=s("1dde"),a=s("ae40"),r=o("filter"),c=a("filter");i({target:"Array",proto:!0,forced:!r||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,s){var i=s("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"9ed0":function(t,e,s){"use strict";var i=s("c6f7"),n=s.n(i);n.a},ab13:function(t,e,s){var i=s("b622"),n=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},c6f7:function(t,e,s){},caad:function(t,e,s){"use strict";var i=s("23e7"),n=s("4d64").includes,o=s("44d2"),a=s("ae40"),r=a("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!r},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},e9d1:function(t,e,s){"use strict";var i=s("43d8"),n=s.n(i);n.a},fb6a:function(t,e,s){"use strict";var i=s("23e7"),n=s("861d"),o=s("e8b5"),a=s("23cb"),r=s("50c4"),c=s("fc6a"),l=s("8418"),u=s("b622"),d=s("1dde"),h=s("ae40"),f=d("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),m=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,e){var s,i,u,d=c(this),h=r(d.length),f=a(t,h),p=a(void 0===e?h:e,h);if(o(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!o(s.prototype)?n(s)&&(s=s[v],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return m.call(d,f,p);for(i=new(void 0===s?Array:s)(g(p-f,0)),u=0;f<p;f++,u++)f in d&&l(i,u,d[f]);return i.length=u,i}})}}]);
//# sourceMappingURL=chunk-1a16c063.8f4d2c93.js.map