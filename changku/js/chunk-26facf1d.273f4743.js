(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26facf1d"],{2739:function(t,i,s){"use strict";var a=s("7bdf"),e=s.n(a);e.a},"7bdf":function(t,i,s){},"82ea":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.contentitem?s("div",{staticClass:"videocontent"},[s("div",{staticClass:"content",class:{active:t.$store.state.isactive}},[s("div",{staticClass:"play"},[s("div",{staticClass:"back",on:{click:function(i){return t.$router.go(-1)}}},[s("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})]),s("div",{staticClass:"bg",class:{active:t.bgshows},on:{click:t.showbg}}),t.showbtn?s("div",{staticClass:"btn"},[t.playstate?s("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"},on:{click:t.playpuse}}):s("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"},on:{click:t.playpuse}})]):t._e(),s("video",{ref:"video",staticClass:"video",attrs:{autoplay:""}},[s("source",{attrs:{src:t.contentitem.data.data.content_video[0].progressive[0].url,type:"video/mp4"}})]),s("van-slider",{attrs:{"bar-height":"2px"},on:{change:t.onChange},model:{value:t.value,callback:function(i){t.value=i},expression:"value"}})],1),s("div",{staticClass:"headercontent"},[s("h1",[t._v(t._s(t.contentitem.data.data.title))]),s("h6",[t._v(" "+t._s(t.contentitem.data.data.cate[0])),s("span",[t._v("/")]),t._v(t._s(t.getmin(t.contentitem.data.data.duration))+" ")]),s("div",{staticClass:"contenttop"},[s("p",[t._v(t._s(t.contentitem.data.data.intro))]),s("h5",[s("span",{on:{click:t.goReadeMore}},[t._v(" 阅读全文"),s("i",{staticClass:"fa fa-long-arrow-right",attrs:{"aria-hidden":"true"}})])])]),t.contentitem.data.data.relate_video?s("ul",{staticClass:"correlation"},t._l(t.contentitem.data.data.relate_video[0].list,(function(i,a){return s("li",{key:a,staticClass:"icon",on:{click:function(s){return t.gocontenttody(i)}}},[s("div",{staticClass:"message"},[s("img",{attrs:{src:i.image,alt:""}})]),s("p",[t._v(t._s(t.getmin(i.duration)))]),s("h4",[t._v(t._s(i.title))])])})),0):t._e(),s("div",{staticClass:"comment",on:{touchstart:t.touchstarts,touchend:t.touchends}},[t.contentitem.data.data.comment.list?s("h3",[t._v(" "+t._s(t.contentitem.data.data.comment.list.length)+"条评论 ")]):t._e(),s("ul",{staticClass:"commentcontent"},t._l(t.contentitem.data.data.comment.list,(function(i,a){return s("li",{key:a},[s("div",{staticClass:"firstcomment"},[s("div",{staticClass:"left "},[s("img",{attrs:{src:i.userinfo.avatar,alt:""}})]),s("div",{staticClass:"conten"},[s("div",{staticClass:"name"},[t._v(t._s(i.userinfo.username))]),s("div",{staticClass:"time"},[t._v(t._s(t.gethous(i.addtime))+"前")]),s("div",{staticClass:"cont"},[t._v(t._s(i.content))])]),s("div",{staticClass:"right"},[s("van-icon",{attrs:{name:"good-job-o"}}),t._v("0")],1)]),i.subcomment?s("div",{staticClass:"comment"},t._l(i.subcomment,(function(a,e){return s("div",{key:e,staticClass:"comments"},[s("div",{staticClass:"left "},[s("img",{attrs:{src:a.userinfo.avatar,alt:""}})]),s("div",{staticClass:"conten"},[s("div",{staticClass:"name"},[t._v(t._s(a.userinfo.username))]),s("div",{staticClass:"time"},[t._v(t._s(t.gethous(a.addtime))+"前")]),s("div",{staticClass:"cont"},[t._v(" 回复"+t._s(i.userinfo.username)+"："+t._s(a.content)+" ")])]),s("div",{staticClass:"right"},[s("van-icon",{attrs:{name:"good-job-o"}}),t._v("0")],1)])})),0):t._e()])})),0)]),s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","error-text":"没有啦！主人",error:t.error},on:{"update:error":function(i){t.error=i},load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[t._l(t.daysitemslist,(function(i,a){return s("van-cell",{key:a},t._l(i,(function(i,a){return s("li",{key:a},[s("div",{staticClass:"left "},[s("img",{attrs:{src:i.userinfo.avatar,alt:""}})]),s("div",{staticClass:"conten"},[s("div",{staticClass:"name"},[t._v(t._s(i.userinfo.username))]),s("div",{staticClass:"time"},[t._v(t._s(t.gethous(i.addtime))+"小时前")]),s("div",{staticClass:"cont"},[t._v(t._s(i.content))])]),s("div",{staticClass:"right"},[s("van-icon",{attrs:{name:"good-job-o"}}),t._v("0")],1)])})),0)}))],2)],1),s("div",{staticClass:"collect"},[s("div",{staticClass:"input"},[s("van-icon",{attrs:{name:"edit",color:"#080808"}})],1),s("div",{staticClass:"collectitem"},[t.userislike?s("van-icon",{attrs:{name:"like",color:"#E22018"},on:{click:t.Collect}}):s("van-icon",{attrs:{name:"like-o"},on:{click:t.Collect}}),s("h4",[t._v(t._s(t.contentitem.data.data.count_like))])],1),s("div",{staticClass:"uploading"},[s("van-icon",{attrs:{name:"upgrade"}}),s("h4",[t._v(t._s(t.contentitem.data.data.count_share))])],1),s("div",{staticClass:"downlodow"},[s("van-icon",{attrs:{name:"down"}}),s("h4",[t._v("缓存")])],1)])]),s("div",{staticClass:"redmore",class:{active:t.isactive},on:{touchstart:t.touchredmore,touchend:t.touchendsredmore}},[s("div",{staticClass:"back",on:{click:function(i){t.isactive=!1}}},[s("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})]),s("h1",[t._v(t._s(t.contentitem.data.data.title))]),s("h3",[t._v(t._s(t.contentitem.data.data.format_content[0].content))]),s("ul",t._l(t.contentitem.data.data.format_content,(function(i,a){return s("li",{key:a},[i.content?s("div",[t._v(" "+t._s(i.content)+" ")]):t._e()])})),0)]),s("router-view")],1):t._e()},e=[],o=(s("4160"),s("a15b"),s("a434"),s("ac1f"),s("466d"),s("5319"),s("159b"),s("2b0e")),n={name:"FindItemContent",data:function(){return{value:0,contentitem:null,list:[],lists:[],loading:!1,error:!1,iserror:!1,finished:!1,daysitemslist:[],ispush:!0,isdiffent:!1,isurl:!1,startPagx:null,playtime:0,audototalTime:0,playstate:!1,bgshows:!1,showbtn:!1,isactive:!1,url:[],userislike:!1,islike:!1,detectionhistoryisdiffent:!1,detectionhistoryisdiffents:!1,indexi:null}},watch:{detectionhistoryisdiffents:function(){var t=JSON.parse(window.localStorage.getItem("user"));this.detectionhistoryisdiffents&&(window.console.log("没有相同"),t.data.playhistory.unshift(this.$store.state.likeitem),window.localStorage.setItem("user",JSON.stringify({tel:t.tel,password:t.password,data:{like:t.data.like,playhistory:t.data.playhistory}})))},detectionhistoryisdiffent:function(){var t=JSON.parse(window.localStorage.getItem("user"));this.detectionhistoryisdiffent&&(window.console.log("有相同"),t.data.playhistory.splice(this.indexi,1),t.data.playhistory.unshift(this.$store.state.likeitem),window.localStorage.setItem("user",JSON.stringify({tel:t.tel,password:t.password,data:{like:t.data.like,playhistory:t.data.playhistory}})))},contentitem:function(){this.contentitem&&this.$store.commit("submitcontentitem",this.contentitem)}},methods:{isLightenXin:function(){var t=this,i=JSON.parse(window.localStorage.getItem("user"));i&&i.data.like[0]&&i.data.like.forEach((function(i){i.postid!==t.$store.state.likeitem.postid||(t.userislike=!0)}))},Collect:function(){var t=this,i=JSON.parse(window.localStorage.getItem("user"));i?(this.userislike=!this.userislike,this.userislike?i.data.like[0]?i.data.like.forEach((function(s){s.postid!==t.$store.state.likeitem.postid&&(i.data.like.unshift(t.$store.state.likeitem),window.localStorage.setItem("user",JSON.stringify({tel:i.tel,password:i.password,data:{like:i.data.like,playhistory:i.data.playhistory}})))})):(i.data.like.unshift(this.$store.state.likeitem),window.localStorage.setItem("user",JSON.stringify({tel:i.tel,password:i.password,data:{like:i.data.like,playhistory:i.data.playhistory}}))):i.data.like.forEach((function(s,a){s.postid===t.$store.state.likeitem.postid&&(i.data.like.splice(a,1),window.localStorage.setItem("user",JSON.stringify({tel:i.tel,password:i.password,data:{like:i.data.like,playhistory:i.data.playhistory}})))}))):this.$router.push("/portrait")},SaveHistory:function(){var t=this,i=JSON.parse(window.localStorage.getItem("user")),s=!0,a=!0;i&&(i.data.playhistory[0]?i.data.playhistory.forEach((function(i,e){if(i.postid===t.$store.state.likeitem.postid)return window.console.log(i.postid===t.$store.state.likeitem.postid),void(s&&(window.console.log("有相同",e),t.detectionhistoryisdiffent=!0,t.indexi=e,s=!1,a=!1));setTimeout((function(){a&&(window.console.log("没有相同谢谢谢谢",e),s=!1,a=!1,t.detectionhistoryisdiffents=!0)}),0)})):(i.data.playhistory.unshift(this.$store.state.likeitem),window.localStorage.setItem("user",JSON.stringify({tel:i.tel,password:i.password,data:{like:i.data.like,playhistory:i.data.playhistory}})),window.console.log("已经有了用户但是没有历史")))},gocontenttody:function(t){this.$store.commit("submitIsactive",!0),this.$router.push({path:"/finditemcontents",query:{id:t.postid}})},httpString:function(t){var i=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g;return t=t.match(i),window.console.log(t),t},GetChinese:function(t){if(null==t||""==t)return"";var i=/\[(.+?)\]/g,s=t.match(i);if(s){var a=s.join("");if(a){var e=/[\u4e00-\u9fa5]/g,o=a.match(e).join(""),n=t.replace(a,o);return n}}},playpuse:function(){window.console.log("播放"),this.playVideo(),this.playstate=!this.playstate,0==this.playstate&&(this.bgshows=!0)},showbg:function(){var t=this;window.console.log("beij"),this.showbtn=!0,this.bgshows=!0,this.$refs.video.paused||this.playstate||setTimeout((function(){t.bgshows=!1,t.showbtn=!1}),3e3)},play:function(){var t=this;this.$refs.video.ontimeupdate=function(){t.playtime=this.currentTime,t.audototalTime=this.duration,t.value=this.currentTime/this.duration*100}},playVideo:function(){var t=this;this.$refs.video.paused&&this.playstate?(this.$refs.video.play(),setTimeout((function(){t.bgshows=!1,t.showbtn=!1}),3e3)):(this.$refs.video.pause(),this.bgshows=!0,this.showbtn=!0),this.play()},touchstarts:function(t){this.startPagx=t.touches[0].pageX},touchends:function(t){var i=t.changedTouches[0].pageX;i-this.startPagx>=100&&this.$router.go(-1)},touchredmore:function(t){this.startPagx=t.touches[0].pageX},touchendsredmore:function(t){var i=t.changedTouches[0].pageX;i-this.startPagx>=100&&(this.isactive=!1)},goReadeMore:function(){this.isactive=!0},getfindheaderdata:function(t){var i=this;this.$store.state.isgetdata&&this.axios.get("http://api.kele8.cn/agent/"+t).then((function(t){i.ispush?(i.lists.push(t.data.data.next_page_url_full),i.daysitemslist.push(t.data.data.list),i.finished=!0,i.ispush=!1):(i.daysitemslist.forEach((function(s){s[0].content!==t.data.data.list[0].content?i.isdiffent=!1:i.isdiffent=!0})),i.lists.forEach((function(s){s!==t.data.data.next_page_url_full?i.isurl=!1:i.isurl=!0})),i.isdiffent||!t.data.data||i.isurl||(i.lists.push(t.data.data.next_page_url_full),i.daysitemslist.push(t.data.data.list),i.finished=!0))})).catch((function(){i.error=!0,i.iserror=!0}))},onLoad:function(){var t=this;this.iserror&&(this.loadfinish=!0),setTimeout((function(){t.loading=!1,t.list.length<=t.lists.length&&(t.finished=!0),t.finished=!1}),500),this.getfindheaderdata(this.lists[this.lists.length-1])},onChange:function(t){this.$refs.video.currentTime=t/100*this.$refs.video.duration},getmin:function(t){var i=t,s=Math.floor(i/60),a=Math.floor(i%60);s<10&&(s="0"+s),a<10&&(a="0"+a);var e=s+"'"+a+'"';return e},gethous:function(t){var i=(new Date).getTime()/1e3-t,s=Math.round(i/60/60),a=s+"小时";return s>=24&&s<720&&(a=Math.round(s/24)+"天"),s>=720&&s<8760&&(a=Math.round(s/720)+"个月"),s>=8760&&(a=Math.round(s/8760)+"年"),a}},beforeRouteEnter:function(t,i,s){o["a"].axios.get("https://api.kele8.cn/agent/https://app.vmovier.com/apiv3/post/view",{params:{postid:t.query.id}}).then((function(t){s((function(i){i.contentitem=t,i.lists.push(t.data.data.comment.next_page_url_full)}))}))},updated:function(){},created:function(){this.SaveHistory(),this.isLightenXin()}},r=n,l=(s("2739"),s("2877")),c=Object(l["a"])(r,a,e,!1,null,null,null);i["default"]=c.exports}}]);
//# sourceMappingURL=chunk-26facf1d.273f4743.js.map