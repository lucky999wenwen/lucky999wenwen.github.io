<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link
			rel="stylesheet"
			href="https://cdn.bootcss.com/minireset.css/0.0.2/minireset.min.css"
		/>
		<link rel="stylesheet" href="style/style.css" />
		<title>轮播图</title>
	</head>
	<body>
		<div class="carousel">
			<div class="left"></div>
			<ul class="banner">
				<li><img src="images/9.jpg" alt="" /></li>
				<li><img src="images/10.jpg" alt="" /></li>
				<li><img src="images/11.jpg" alt="" /></li>
				<li><img src="images/4.jpg" alt="" /></li>
				<li><img src="images/5.jpg" alt="" /></li>
				<li><img src="images/6.jpg" alt="" /></li>
			</ul>
			<div class="right"></div>
			<div class="pagination"></div>
			<div class="change">
				<span class="prove">prove</span>
				<span class="next">next</span>
			</div>
		</div>
	</body>
	<script src="https://cdn.staticfile.org/jquery/1.12.4/jquery.js"></script>
	<script>
		var a = 0;
		var prv = [0];
		var p = 0;
		if (a == 0) {
			$("ul.banner li")
				.eq(5)
				.css({ left: -600 + "px" });
		}
		$("ul.banner li").each(function(a, b) {
			//a是下标，b是元素
			$(".carousel .pagination").append("<span></span>");
		});
		$(".pagination span")
			.eq(0)
			.addClass("active");
		$(".pagination span").click(function() {
			// if (a == 0) {
			// 	$("ul.banner li")
			// 		.eq(5)
			// 		.css({ left: 600 + "px" });
			// }
			$(this)
				.addClass("active")
				.siblings()
				.removeClass("active");
			a = $(this).index();
			console.log(a);
			$("ul.banner li").each(function(i, elem) {
				// console.log(i);

				if (a > i) {
					//比当前项小的往左边放
					console.log("左边", i);
					$("ul.banner li")
						.eq(i)
						.css({ left: -600 + "px" });
					$("ul.banner li")
						.eq(a)
						.animate({ left: 0 + "px" });
				}
				if (a < i) {
					// console.log("a<i");
					console.log("右边", i);
					//比当前项大的往右边放
					$("ul.banner li")
						.eq(i)
						.css({ left: 1200 + "px" });
					console.log('执行');
					
				}
			});
		});

		$(".change .prove").click(function() {
			if (a == 0) {
				$("ul.banner li")
					.eq(0)
					.animate({ left: 600 + "px" }, 500);
			}
			a--;
			if (a == 2) {
				$("ul.banner li")
					.eq(0)
					.css({ left: -600 + "px" });
			}
			if (a < 0) {
				a = 5;
			}
			$("ul.banner li")
				.eq(a - 1)
				.css({ left: -600 + "px" });

			$("ul.banner li")
				.eq(a + 1)
				.animate({ left: 600 + "px" }, 500) &&
				$("ul.banner li")
					.eq(a)
					.animate({ left: 0 + "px" }, 500);
			// $(".pagination span")
			// 	.eq(a)
			// 	.addClass("active")
			// 	.siblings()
			// 	.removeClass("active");
		});
		// $("ul.banner li")
		// 	.eq(a + 1)
		// 	.animate({ left: 600 + "px" }) &&
		// 	$("ul.banner li")
		// 		.eq(a + 1)
		// 		.css({ opacity: 1 });

		$(".change .next").click(function() {
			a++;
			// console.log(a);
			if (a == 2) {
				console.log("xxx");
				$("ul.banner li")
					.eq(1)
					.siblings()
					.css({ left: 600 + "px" });
			}
			if (a == 4) {
				$("ul.banner li")
					.eq(3)
					.siblings()
					.css({ left: 600 + "px" });
			}
			if (a > 5) {
				a = 0;
			}
			$("ul.banner li")
				.eq(a)
				.animate({ left: 0 + "px" }, 500);
			$("ul.banner li")
				.eq(a - 1)
				.animate({ left: -600 + "px" }, 500);
			// if (a == 5) {
			// 	$("ul.banner li")
			// 		.eq(0)
			// 		.animate({ left: -600 + "px" }, 500);
			// }

			// $("ul.banner li")
			// 	.eq(a)
			// 	.animate({ left: 0 + "px" });
			// 	.addClass("active")
			// 	.siblings()
			// 	.removeClass("active");
			// $(".pagination span")
			// 	.eq(a)
			// 	.addClass("active")
			// 	.siblings()
			// 	.removeClass("active");
		});
	</script>
</html>
